var e=Object.defineProperty,t=(t,l,a)=>(((t,l,a)=>{l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a})(t,"symbol"!=typeof l?l+"":l,a),a);import{Q as l,E as a,a as o,e as i,b as n}from"./e404.f67fe263.js";import{c as s,V as r,m as d,a as m,r as u,_ as p,b as c,F as h,d as f,w as g,e as b,h as y,i as x,C as v,P as k,R as w,f as T,J as $,W as C,g as S,j as I,k as E}from"./vendor.aebc7018.js";import{S as D,a as N,C as V,D as R,T as A,M as z,b as O,c as U,O as L,d as q,e as M,f as Y,g as _,h as j,U as F,i as B,j as H,P,I as Q,k as W,l as G,B as K}from"./ImageView.81d8d153.js";import{C as J,a as X,b as Z,c as ee,d as te,e as le,f as ae,g as oe,h as ie,i as ne,j as se,k as re,l as de,m as me,O as ue,n as pe,o as ce,p as he,q as fe,r as ge,s as be,t as ye,u as xe,v as ve,w as ke,x as we,y as Te,z as $e,A as Ce,B as Se,D as Ie,E as Ee,F as De,G as Ne,H as Ve,I as Re,J as Ae,K as ze,L as Oe,M as Ue,N as Le,P as qe,Q as Me,R as Ye,U as _e}from"./upload.c364b35d.js";class je extends r{constructor(){super(...arguments),t(this,"user",null)}}function Fe(e){return s(((t,l)=>{t.computed||(t.computed=Object.create(null)),t.computed[l||l]={get(){return this.$root[e||l]},set(t){this.$root[e||l]=t}}}))}class Be extends(d(je)){constructor(){super(...arguments),t(this,"name","App"),t(this,"isShow",!1)}render(){return m(u("el-config-provider"),{locale:p},{default:()=>[m(u("el-skeleton"),{loading:0==this.isShow},{default:()=>m(u("router-view"),null,null)})]})}created(){D.getTicket().then((e=>{this.$axios.get("/session",{params:{ticket:e}}).then((e=>{this.user=e,this.isShow=!0})).catch(((e,t)=>{if(203!=e.code)return 502==t.status?(this.isShow=!0,void this.$router.push({name:"e502",params:{is502:"true"}})):void this.$alert(e.message||"请求出错，即将刷新","错误",{callback:()=>{location.reload()}});this.$alert(e.message||"没有访问权限","错误",{callback:()=>{location.href="//lygddt.com/"}})}))})).catch(((e,t)=>{if(502==t.status)return this.isShow=!0,void this.$router.push({name:"e502",params:{is502:"true"}});this.$alert(e.message||"请求出错，即将刷新","错误",{callback:()=>{location.reload()}})})).login((e=>{D.toLogin()}))}}class He extends r{constructor(){super(...arguments),t(this,"user"),t(this,"isendnumber",0),t(this,"ireceiptnumber",0),t(this,"esendnumber",0),t(this,"ereceiptnumber",0),t(this,"list1date",null),t(this,"loading1",!1),t(this,"loading2",!1),t(this,"list2",null),t(this,"page",null),t(this,"btnloading",!1)}render(){var e;return m(h,null,[m("div",{class:"mb-4 font-size-2 d-flex grey--text"},[m("div",{class:"flex-grow-1"},[f("首页")]),this.list1date?m("div",null,[f("更新时间："),m(u("el-time"),{value:this.list1date,type:"datetime"},null)]):null]),m(u("el-row"),{gutter:20},{default:()=>[m(u("el-col"),{md:12,lg:6},{default:()=>[m("div",{class:"white pa-4 rounded-lg elevation-2 mb-4 text-center"},[m("div",{class:"font-size-3 font-weight-bold"},[f("进口申报发送数量")]),m("div",{class:"font-size-8 font-weight-bold mt-3"},[this.isendnumber])])]}),m(u("el-col"),{md:12,lg:6},{default:()=>[m("div",{class:"white pa-4 rounded-lg elevation-2 mb-4 text-center"},[m("div",{class:"font-size-3 font-weight-bold"},[f("进口申报回执数量")]),m("div",{class:"font-size-8 font-weight-bold mt-3"},[this.ireceiptnumber])])]}),m(u("el-col"),{md:12,lg:6},{default:()=>[m("div",{class:"white pa-4 rounded-lg elevation-2 mb-4 text-center"},[m("div",{class:"font-size-3 font-weight-bold"},[f("出口申报发送数量")]),m("div",{class:"font-size-8 font-weight-bold mt-3"},[this.esendnumber])])]}),m(u("el-col"),{md:12,lg:6},{default:()=>[m("div",{class:"white pa-4 rounded-lg elevation-2 mb-4 text-center"},[m("div",{class:"font-size-3 font-weight-bold"},[f("出口申报回执数量")]),m("div",{class:"font-size-8 font-weight-bold mt-3"},[this.ereceiptnumber])])]})]}),m("div",{class:"white mb-2 px-4 pt-2 pb-10"},[m("div",{class:"font-size-3 mb-2"},[f("回执处理错误日志")]),g(m(u("el-table"),{data:this.list2,style:{width:"100%"},"row-class-name":({rowIndex:e})=>e%2==0?"":"stripe-row"},{default:()=>[m(u("el-table-column"),{prop:"createTime",label:"创建时间"},{default:({row:e})=>m(u("el-time"),{value:e.createTime,type:"datetime"},null)}),m(u("el-table-column"),{prop:"message",label:"错误信息"},{default:({row:e})=>m(h,null,[e.message||"暂无"])}),m(u("el-table-column"),{label:"报文"},{default:({row:e})=>m("a",{href:e.data,target:"_blank"},[f("查看")])}),m(u("el-table-column"),{label:"操作",width:"120px"},{default:({row:e})=>m(u("el-button"),{style:"width:100px",class:"ma-1",disabled:this.btnloading,round:!0,size:"small",type:"danger",plain:!0,onClick:()=>this.toDel(e)},{default:()=>[f("删除")]})})]}),[[b("loading"),this.loading2]]),m(u("v-if"),{show:null!=this.page&&0!=(null==(e=this.page)?void 0:e.count)},{default:()=>[m("div",{class:"text-center py-6"},[m(u("el-page"),{value:this.page,router:!0,onChange:()=>setTimeout(this.getErrLog)},null)])]})])])}created(){this.getLog(),this.getErrLog()}getLog(){this.loading1=!0,this.$axios.get("/home").then((e=>{e.log.map((e=>{"I"==e._id.ieFlag&&e._id.isSend&&(this.isendnumber=e.total),"I"!=e._id.ieFlag||e._id.isSend||(this.ireceiptnumber=e.total),"E"==e._id.ieFlag&&e._id.isSend&&(this.esendnumber=e.total),"E"!=e._id.ieFlag||e._id.isSend||(this.ereceiptnumber=e.total)})),this.list1date=e.time,this.loading1=!1})).catch((e=>{this.$message.error(e.message||"获取申报回执失败"),this.$router.back()}))}getErrLog(){this.$axios.get("/home/log",{params:l.data(this.$route.query)}).then((e=>{this.list2=e.list,this.page=e.page}))}toDel(e){this.$confirm("","提示",{message:m(h,null,[f("确定删除"),m("span",{class:"red--text font-weight-bold"},[y(e.createTime).format("YYYY-MM-DD hh:mm:ss")]),f("的回执处理错误日志吗？")]),callback:t=>{"confirm"==t&&(this.btnloading=!0,this.$axios.delete("/home/log/"+e.id).then((e=>{this.$message.success("删除成功"),this.getErrLog()})).catch((e=>{this.$message.error(e.message||"删除失败")})).finally((()=>this.btnloading=!1)))}})}}function Pe(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!x(e)}c([Fe()],He.prototype,"user",void 0);class Qe extends r{constructor(){super(...arguments),t(this,"type")}render(){let e=null;switch(this.type){case"311":e=m(ae,{origin:"admin"},null);break;case"411":e=m(le,{origin:"admin"},null);break;case"511":e=m(te,{origin:"admin"},null);break;case"621":e=m(O,{origin:"admin"},null);break;case"623":e=m(ee,{origin:"admin"},null);break;case"625":e=m(Z,{origin:"admin"},null);break;case"711":e=m(X,{origin:"admin"},null);break;case"816":e=m(J,{origin:"admin"},null);break;default:e=m(z,null,null)}return e}}c([k({type:String,default:"311"})],Qe.prototype,"type",void 0);class We extends r{constructor(){super(...arguments),t(this,"type"),t(this,"info",null)}render(){var e,t,l,a,o,i,n,s,r,d,u,p,c,h,f,g,b,y,x,v,k,w,T,$,C,S,I,E,D;let N=null,V=null;switch(this.type){case"311":V=null==(e=this.info)?void 0:e.message.orderNo,V&&(N=m(me,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"411":V=null==(t=this.info)?void 0:t.message.payTransactionId,V&&(N=m(de,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"511":V=null==(l=this.info)?void 0:l.message.logisticsNo,V&&(N=m(re,{origin:"admin",info:null==(a=this.info)?void 0:a.message,createTime:null==(o=this.info)?void 0:o.createTime,updateTime:null==(i=this.info)?void 0:i.updateTime},null));break;case"621":V=null==(n=this.info)?void 0:n.message.copNo,V&&(N=m(U,{origin:"admin",info:null==(s=this.info)?void 0:s.message,createTime:null==(r=this.info)?void 0:r.createTime,updateTime:null==(d=this.info)?void 0:d.updateTime,ceb816:null==(u=this.info)?void 0:u.ceb816,tax:null==(p=this.info)?void 0:p.tax,invtNo:null==(c=this.info)?void 0:c.invtNo},null));break;case"623":V=null==(h=this.info)?void 0:h.message.copNo,V&&(N=m(se,{origin:"admin",info:null==(f=this.info)?void 0:f.message,createTime:null==(g=this.info)?void 0:g.createTime,updateTime:null==(b=this.info)?void 0:b.updateTime},null));break;case"625":V=null==(y=this.info)?void 0:y.message.copNo,V&&(N=m(ne,{origin:"admin",info:null==(x=this.info)?void 0:x.message,createTime:null==(v=this.info)?void 0:v.createTime,updateTime:null==(k=this.info)?void 0:k.updateTime},null));break;case"711":V=null==(w=this.info)?void 0:w.message.copNo,V&&(N=m(ie,{origin:"admin",info:null==(T=this.info)?void 0:T.message,createTime:null==($=this.info)?void 0:$.createTime,updateTime:null==(C=this.info)?void 0:C.updateTime},null));break;case"816":V=null==(S=this.info)?void 0:S.message.invtNo,V&&(N=m(oe,{origin:"admin",info:null==(I=this.info)?void 0:I.message,createTime:null==(E=this.info)?void 0:E.createTime,updateTime:null==(D=this.info)?void 0:D.updateTime},null));break;default:N=m(z,null,null)}return m(L,{info:this.info,keyv:V,isTax:"816"==this.type},{default:()=>N,log:()=>m(q,{isTax:"816"==this.type,type:this.type,providerId:this.info.providerId,keyv:V},null)})}created(){if(!this.$route.query.id)return this.$message.error("没有找到申报单"),this.$router.back();this.getInfo()}getInfo(){this.$axios.get(`/ceb/${this.type}/info/${this.$route.query.id}`).then((e=>{this.info=e})).catch((e=>{this.$message.error(e.message||"获取数据失败"),this.$router.back()}))}}c([k({type:String,default:"311"})],We.prototype,"type",void 0);const Ge={path:"import",name:"order-import",meta:{name:"进口申报",icon:"J"},component:M,redirect:{name:"order-import-311"},children:[{path:"311",name:"order-import-311",meta:{name:"电子订单"},component:M,redirect:{name:"order-import-311-list"},children:[{path:"",name:"order-import-311-list",meta:{name:"电子订单列表"},props:{type:"311"},component:Qe},{path:"info",name:"order-import-311-info",meta:{name:"电子订单详情"},props:{type:"311"},component:We},{path:"log",name:"order-import-311-log",meta:{name:"电子订单日志详情"},props:{type:"311"},component:ue}]},{path:"411",name:"order-import-411",meta:{name:"支付单"},component:M,redirect:{name:"order-import-411-list"},children:[{path:"",name:"order-import-411-list",meta:{name:"支付单列表"},props:{type:"411"},component:Qe},{path:"info",name:"order-import-411-info",meta:{name:"支付单详情"},props:{type:"411"},component:We},{path:"log",name:"order-import-411-log",meta:{name:"支付单日志详情"},props:{type:"411"},component:ue}]},{path:"511",name:"order-import-511",meta:{name:"运单"},component:M,redirect:{name:"order-import-511-list"},children:[{path:"",name:"order-import-511-list",meta:{name:"运单列表"},props:{type:"511"},component:Qe},{path:"info",name:"order-import-511-info",meta:{name:"运单详情"},props:{type:"511"},component:We},{path:"log",name:"order-import-511-log",meta:{name:"运单日志"},props:{type:"511"},component:ue}]},{path:"621",name:"order-import-621",meta:{name:"海关清单"},component:M,redirect:{name:"order-import-621-list"},children:[{path:"",name:"order-import-621-list",meta:{name:"海关清单列表"},props:{type:"621"},component:Qe},{path:"info",name:"order-import-621-info",meta:{name:"海关清单详情"},props:{type:"621"},component:We},{path:"log",name:"order-import-621-log",meta:{name:"海关清单日志"},props:{type:"621"},component:ue}]},{path:"623",name:"order-import-623",meta:{name:"撤销申请单"},component:M,redirect:{name:"order-import-623-list"},children:[{path:"",name:"order-import-623-list",meta:{name:"撤销申请单"},props:{type:"623"},component:Qe},{path:"info",name:"order-import-623-info",meta:{name:"撤销申请单详情"},props:{type:"623"},component:We},{path:"log",name:"order-import-623-log",meta:{name:"撤销申请单日志"},props:{type:"623"},component:ue}]},{path:"625",name:"order-import-625",meta:{name:"退货申请单"},component:M,redirect:{name:"order-import-625-list"},children:[{path:"",name:"order-import-625-list",meta:{name:"退货申请单"},props:{type:"625"},component:Qe},{path:"info",name:"order-import-625-info",meta:{name:"退货申请单详情"},props:{type:"625"},component:We},{path:"log",name:"order-import-625-log",meta:{name:"退货申请单日志"},props:{type:"625"},component:ue}]},{path:"711",name:"order-import-711",meta:{name:"入库明细单"},component:M,redirect:{name:"order-import-711-list"},children:[{path:"",name:"order-import-711-list",meta:{name:"入库明细单"},props:{type:"711"},component:Qe},{path:"info",name:"order-import-711-info",meta:{name:"入库明细单详情"},props:{type:"711"},component:We},{path:"log",name:"order-import-711-log",meta:{name:"入库明细单日志"},props:{type:"711"},component:ue}]},{path:"816",name:"order-import-816",meta:{name:"电子税单"},component:M,redirect:{name:"order-import-816-list"},children:[{path:"",name:"order-import-816-list",meta:{name:"电子税单"},props:{type:"816"},component:Qe},{path:"info",name:"order-import-816-info",meta:{name:"电子税单详情"},props:{type:"816"},component:We},{path:"log",name:"order-import-816-log",meta:{name:"电子税单日志"},props:{type:"816"},component:ue}]}]};class Ke extends r{constructor(){super(...arguments),t(this,"type")}render(){let e=null;switch(this.type){case"303":e=m(ke,{origin:"admin"},null);break;case"403":e=m(ve,{origin:"admin"},null);break;case"505":e=m(xe,{origin:"admin"},null);break;case"507":e=m(ye,{origin:"admin"},null);break;case"509":e=m(be,{origin:"admin"},null);break;case"603":e=m(Y,{origin:"admin"},null);break;case"605":e=m(ge,{origin:"admin"},null);break;case"213":e=m(fe,{origin:"admin"},null);break;case"215":e=m(he,{origin:"admin"},null);break;case"607":e=m(ce,{origin:"admin"},null);break;case"701":e=m(pe,{origin:"admin"},null);break;default:e=m(z,null,null)}return e}}c([k({type:String,default:"303"})],Ke.prototype,"type",void 0);class Je extends r{constructor(){super(...arguments),t(this,"type"),t(this,"info",null)}render(){var e,t,l,a,o,i,n,s,r,d,u;let p=null,c=null;switch(this.type){case"303":c=null==(e=this.info)?void 0:e.message.orderNo,c&&(p=m(Ne,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"403":c=null==(t=this.info)?void 0:t.message.orderNo,c&&(p=m(De,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"505":c=null==(l=this.info)?void 0:l.message.logisticsNo,c&&(p=m(Ee,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"507":c=null==(a=this.info)?void 0:a.message.copNo,c&&(p=m(Ie,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"509":c=null==(o=this.info)?void 0:o.message.copNo,c&&(p=m(Se,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"603":c=null==(i=this.info)?void 0:i.message.copNo,c&&(p=m(_,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime,invtNo:this.info.invtNo},null));break;case"605":c=null==(n=this.info)?void 0:n.message.copNo,c&&(p=m(Ce,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"213":c=null==(s=this.info)?void 0:s.message.coElNo,c&&(p=m($e,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"215":c=null==(r=this.info)?void 0:r.message.coElNo,c&&(p=m($e,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"607":c=null==(d=this.info)?void 0:d.message.copNo,c&&(p=m(Te,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;case"701":c=null==(u=this.info)?void 0:u.message.copNo,c&&(p=m(we,{origin:"admin",info:this.info.message,createTime:this.info.createTime,updateTime:this.info.updateTime},null));break;default:p=m(z,null,null)}return m(L,{info:this.info,keyv:c},{default:()=>p,log:()=>m(q,{mold:"export",type:this.type,providerId:this.info.providerId,keyv:c},null)})}created(){if(!this.$route.query.id)return this.$message.error("没有找到申报单"),this.$router.back();this.getInfo()}getInfo(){this.$axios.get(`/ceb/${this.type}/info/${this.$route.query.id}`).then((e=>{this.info=e})).catch((e=>{this.$message.error(e.message||"获取数据失败"),this.$router.back()}))}}c([k({type:String,default:"303"})],Je.prototype,"type",void 0);class Xe extends r{constructor(){super(...arguments),t(this,"type")}render(){let e=null;switch(this.type){case"303":e=m(Ye,{origin:"admin"},null);break;case"403":e=m(Me,{origin:"admin"},null);break;case"505":e=m(qe,{origin:"admin"},null);break;case"507":e=m(Le,{origin:"admin"},null);break;case"509":e=m(Ue,{origin:"admin"},null);break;case"603":e=m(j,{origin:"admin"},null);break;case"605":e=m(Oe,{origin:"admin"},null);break;case"213":e=m(ze,{origin:"admin"},null);break;case"215":e=m(Ae,{origin:"admin"},null);break;case"607":e=m(Re,{origin:"admin"},null);break;case"701":e=m(Ve,{origin:"admin"},null);break;default:e=m(z,null,null)}return e}}c([k({type:String,default:"303"})],Xe.prototype,"type",void 0);const Ze={path:"export",name:"order-export",meta:{name:"出口申报",icon:"C"},component:M,redirect:{name:"order-export-303"},children:[{path:"303",name:"order-export-303",meta:{name:"电子订单"},component:M,redirect:{name:"order-export-303-list"},children:[{path:"",name:"order-export-303-list",meta:{name:"电子订单"},props:{type:"303"},component:Ke},{path:"info",name:"order-export-303-info",meta:{name:"电子订单详情"},props:{type:"303"},component:Je},{path:"log",name:"order-export-303-log",meta:{name:"电子订单日志"},props:{type:"303"},component:Xe}]},{path:"403",name:"order-export-403",meta:{name:"收款单"},component:M,redirect:{name:"order-export-403-list"},children:[{path:"",name:"order-export-403-list",meta:{name:"收款单"},props:{type:"403"},component:Ke},{path:"info",name:"order-export-403-info",meta:{name:"收款单详情"},props:{type:"403"},component:Je},{path:"log",name:"order-export-403-log",meta:{name:"收款单日志"},props:{type:"403"},component:Xe}]},{path:"505",name:"order-export-505",meta:{name:"运单"},component:M,redirect:{name:"order-export-505-list"},children:[{path:"",name:"order-export-505-list",meta:{name:"运单"},props:{type:"505"},component:Ke},{path:"info",name:"order-export-505-info",meta:{name:"运单详情"},props:{type:"505"},component:Je},{path:"log",name:"order-export-505-log",meta:{name:"运单日志"},props:{type:"505"},component:Xe}]},{path:"507",name:"order-export-507",meta:{name:"运抵单"},component:M,redirect:{name:"order-export-507-list"},children:[{path:"",name:"order-export-507-list",meta:{name:"运抵单"},props:{type:"507"},component:Ke},{path:"info",name:"order-export-507-info",meta:{name:"运抵单详情"},props:{type:"507"},component:Je},{path:"log",name:"order-export-507-log",meta:{name:"运抵单日志"},props:{type:"507"},component:Xe}]},{path:"509",name:"order-export-509",meta:{name:"离境单"},component:M,redirect:{name:"order-export-509-list"},children:[{path:"",name:"order-export-509-list",meta:{name:"离境单"},props:{type:"509"},component:Ke},{path:"info",name:"order-export-509-info",meta:{name:"离境单详情"},props:{type:"509"},component:Je},{path:"log",name:"order-export-509-log",meta:{name:"离境单日志"},props:{type:"509"},component:Xe}]},{path:"603",name:"order-export-603",meta:{name:"海关清单"},component:M,redirect:{name:"order-export-603-list"},children:[{path:"",name:"order-export-603-list",meta:{name:"海关清单"},props:{type:"603"},component:Ke},{path:"info",name:"order-export-603-info",meta:{name:"海关清单详情"},props:{type:"603"},component:Je},{path:"log",name:"order-export-603-log",meta:{name:"海关清单日志"},props:{type:"603"},component:Xe}]},{path:"605",name:"order-export-605",meta:{name:"撤销申请单"},component:M,redirect:{name:"order-export-605-list"},children:[{path:"",name:"order-export-605-list",meta:{name:"撤销申请单"},props:{type:"605"},component:Ke},{path:"info",name:"order-export-605-info",meta:{name:"撤销申请单详情"},props:{type:"605"},component:Je},{path:"log",name:"order-export-605-log",meta:{name:"撤销申请单日志"},props:{type:"605"},component:Xe}]},{path:"213",name:"order-export-213",meta:{name:"退货申请单"},component:M,redirect:{name:"order-export-213-list"},children:[{path:"",name:"order-export-213-list",meta:{name:"退货申请单"},props:{type:"213"},component:Ke},{path:"info",name:"order-export-213-info",meta:{name:"退货申请单详情"},props:{type:"213"},component:Je},{path:"log",name:"order-export-213-log",meta:{name:"退货申请单日志"},props:{type:"213"},component:Xe}]},{path:"215",name:"order-export-215",meta:{name:"退货理货明细单"},component:M,redirect:{name:"order-export-215-list"},children:[{path:"",name:"order-export-215-list",meta:{name:"退货理货明细单"},props:{type:"215"},component:Ke},{path:"info",name:"order-export-215-info",meta:{name:"退货理货明细单详情"},props:{type:"215"},component:Je},{path:"log",name:"order-export-215-log",meta:{name:"退货理货明细单日志"},props:{type:"215"},component:Xe}]},{path:"607",name:"order-export-607",meta:{name:"清单总分单"},component:M,redirect:{name:"order-export-607-list"},children:[{path:"",name:"order-export-607-list",meta:{name:"清单总分单"},props:{type:"607"},component:Ke},{path:"info",name:"order-export-607-info",meta:{name:"清单总分单详情"},props:{type:"607"},component:Je},{path:"log",name:"order-export-607-log",meta:{name:"清单总分单日志"},props:{type:"607"},component:Xe}]},{path:"701",name:"order-export-701",meta:{name:"汇总申请单"},component:M,redirect:{name:"order-export-701-list"},children:[{path:"",name:"order-export-701-list",meta:{name:"汇总申请单"},props:{type:"701"},component:Ke},{path:"info",name:"order-export-701-info",meta:{name:"汇总申请单详情"},props:{type:"701"},component:Je},{path:"log",name:"order-export-701-log",meta:{name:"汇总申请单日志"},props:{type:"701"},component:Xe}]}]};var et="_cktable_1zt9c_1",tt="_bg_1zt9c_11";class lt extends r{constructor(){super(...arguments),t(this,"tableData",null),t(this,"loading",!1),t(this,"page",null),t(this,"delloading",!1),t(this,"stateloading",!1),t(this,"soform",{}),t(this,"diaShow",!1),t(this,"form",{type:[],auth:{router:[],region:[]}}),t(this,"formRef"),t(this,"formloading",!1),t(this,"formErr",{}),t(this,"routerData",[{ck:!1,key:"ADMIN",list:[]},{ck:!1,key:"CEB",list:[{ck:!1,label:"企业备案",value:"CEB_PROVIDER"},{ck:!1,label:"商品备案",value:"CEB_GOODS"},{ck:!1,label:"清单报表",value:"CEB_INVT"},{ck:!1,label:"清单导出",value:"CEB_INVT_E"},{ck:!1,label:"统计",value:"CEB_COUNT"}]},{ck:!1,key:"TAX",list:[]},{ck:!1,key:"SAFE",list:[]},{ck:!1,key:"REGION",list:[]},{ck:!1,key:"MARKET",list:[]},{ck:!1,key:"DECLARATION",list:[]}])}render(){var e;return m(h,null,[m("div",{class:"white px-5 py-4"},[m(N,null,{default:()=>[f("用户信息")]}),m(u("el-form"),{model:this.soform,inline:!0,class:"mb-n4 sofrom"},{default:()=>[m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"手机号",modelValue:this.soform.phone,"onUpdate:modelValue":e=>this.soform.phone=e,clearable:!0},null)]}),m(u("el-form-item"),null,{default:()=>[m(u("el-select"),{modelValue:this.soform.state,"onUpdate:modelValue":e=>this.soform.state=e,clearable:!0,placeholder:"状态"},{default:()=>[m(u("el-option"),{label:"启用",key:"SUCCESS",value:"SUCCESS"},null),m(u("el-option"),{label:"禁用",key:"ERROR",value:"ERROR"},null)]})]}),m(u("el-form-item"),{class:"ml-2"},{default:()=>[m(u("el-button"),{round:!0,type:"primary",onClick:()=>{this.$router.push({query:l.data(this.soform,{page:1})}),setTimeout(this.getList)}},{default:()=>[f("查询")]}),m(u("el-button"),{round:!0,onClick:()=>this.soform={}},{default:()=>[f("重置")]})]})]})]),m("div",{class:"white mt-2 px-4 pt-2 pb-10"},[g(m(u("el-table"),{data:this.tableData,style:{width:"100%"},"row-class-name":({rowIndex:e})=>e%2==0?"":"stripe-row"},{default:()=>[m(u("el-table-column"),{type:"index",label:"序号"},null),m(u("el-table-column"),{prop:"phone",label:"手机号"},null),m(u("el-table-column"),{prop:"type",label:"类型"},{default:({row:e})=>{var t;let l=[];return e.type?(null==(t=e.type)||t.map((e=>{l.push(m("span",{class:"mr-1"},[F[e]]))})),l):m(h,null,[f("--")])}}),m(u("el-table-column"),{prop:"auth",label:"权限"},{default:({row:e})=>m("span",null,[f("--")])}),m(u("el-table-column"),{prop:"state",label:"状态"},{default:({row:e,$index:t})=>{let l=!1;return"SUCCESS"==e.state&&(l=!0),m(u("el-switch"),{modelValue:l,"onUpdate:modelValue":e=>l=e,disabled:this.stateloading,onClick:()=>{this.stateloading=!0,this.$axios.put("/user/state",{id:e.id,state:l?"SUCCESS":"ERROR"}).then((e=>{this.$message.success("操作成功"),this.getList()})).catch((e=>this.$message.error(e.message||"操作失败"))).finally((()=>this.stateloading=!1))}},null)}}),m(u("el-table-column"),{prop:"createTime",label:"创建时间"},{default:({row:e})=>m(u("el-time"),{value:e.createTime,type:"datetime"},null)}),m(u("el-table-column"),{label:"操作"},{default:({row:e})=>[m(u("el-button"),{round:!0,size:"small",type:"primary",plain:!0,onClick:()=>this.setopen(e)},{default:()=>[f("配置")]}),m(u("el-button"),{round:!0,size:"small",type:"danger",plain:!0,disabled:this.delloading,onClick:()=>this.toDel(e)},{default:()=>[f("删除")]})]})]}),[[b("loading"),this.loading]]),m(u("v-if"),{show:null!=this.page&&0!=(null==(e=this.page)?void 0:e.count)},{default:()=>[m("div",{class:"text-center py-6"},[m(u("el-page"),{value:this.page,router:!0,onChange:()=>setTimeout(this.getList)},null)])]})]),m(u("el-dialog"),{modelValue:this.diaShow,"onUpdate:modelValue":e=>this.diaShow=e,title:`用户${this.form.phone}配置`,width:"1200px","close-on-click-modal":!1,"close-on-press-escape":!1},{default:()=>[m(u("el-form"),{model:this.form,ref:"formRef","label-width":"100px"},{default:()=>[m(u("el-form-item"),{label:"角色权限：",prop:"type",error:this.formErr.type,rules:[a.notBlank("请选择角色权限")]},{default:()=>[m("table",{style:{width:"100%"},class:et},[m("tbody",null,[m("tr",null,[m("th",{class:tt},[f("角色")]),m("th",{class:tt},[f("权限")])]),this.routerData.map(((e,t)=>{var l;return m("tr",null,[m("td",null,[m(u("el-checkbox"),{modelValue:e.ck,"onUpdate:modelValue":t=>e.ck=t,label:e.key,onChange:l=>this.ckchange(l,1,e.key,t)},{default:()=>[F[e.key]]})]),m("td",null,[m(u("v-if"),{show:"REGION"==e.key},{default:()=>[m(u("el-form-item"),null,{default:()=>[m(u("el-cascader"),{disabled:!e.ck,size:"mini",style:"width:100%",modelValue:this.form.auth.region,"onUpdate:modelValue":e=>this.form.auth.region=e,filterable:!0,options:T.exports.regionData,props:{checkStrictly:!0,expandTrigger:"hover"},clearable:!0},{default:({data:e,node:t})=>m("div",{onClick:()=>this.form.auth.region=t.pathValues},[e.label])})]})]}),null==(l=e.list)?void 0:l.map(((t,l)=>m(u("el-checkbox"),{disabled:!e.ck||"CEB_GOODS"==t.value,modelValue:t.ck,"onUpdate:modelValue":e=>t.ck=e,label:t.value,onChange:e=>this.ckchange(e,2,t.value,l)},{default:()=>[t.label]})))])])}))])])]}),m("div",{class:"text-center mt-8"},[m(u("el-button"),{type:"primary",onClick:this.submitForm,loading:this.formloading,class:"mr-4",style:{width:"150px"}},{default:()=>[f("确 定")]}),m(u("el-button"),{disabled:this.formloading,style:{width:"150px"},onClick:()=>(this.diaShow=!1,this.formRef.resetFields())},{default:()=>[f("取 消")]})])]})]})])}created(){this.soform=l.data(this.$route.query),this.getList()}getList(){this.loading=!0,this.$axios.get("/user",{params:l.data(this.$route.query)}).then((({list:e,page:t})=>{this.tableData=e,this.page=t,this.toUPScroll(".layout-scroll")})).catch((e=>{this.$message.error(e.message||"获取数据失败"),this.tableData=null,this.page=null})).finally((()=>this.loading=!1))}toDel(e){this.$confirm("确定要删除"+e.phone+"吗？","删除提示",{callback:t=>{"confirm"==t&&(this.delloading=!0,this.$axios.delete("/user/"+e.id).then((e=>{this.$message.success("删除成功"),this.getList()})).catch((e=>{this.$message.error(e.message||"删除失败，请刷新后重试")})).finally((()=>{this.delloading=!1})))}})}submitForm(){this.formRef.validate((e=>{if(e){let e=[];if(this.routerData.map((t=>{var l;if(t.ck){let a=!1;t.list.map((e=>{e.ck&&(a=!0)})),0!=t.list.length&&0==a&&e.push(t.key),"REGION"!=t.key||this.form.auth.region&&0!=(null==(l=this.form.auth.region)?void 0:l.length)||e.push(t.key)}})),e.length>0)return this.$message.error("已勾选的角色请选择权限");this.formloading=!0,this.$axios.put("/user/type",this.form).then((e=>{this.$message.success("配置成功"),this.diaShow=!1,this.formRef.resetFields(),this.getList()})).catch((e=>{this.$message.error(e.message||"配置失败"),e.data&&(this.formErr=e.data)})).finally((()=>this.formloading=!1))}}))}ckchange(e,t,l,a){1==t&&0==e&&("REGION"==l&&(this.form.auth.region=[]),this.routerData[a].list.map((e=>{e.ck=!1,this.form.auth.router.splice(this.form.auth.router.indexOf(e.label),1)}))),1==t&&(e?(this.form.type.push(l),"CEB"==l&&this.routerData[a].list.map((e=>{"CEB_GOODS"==e.value&&(this.form.auth.router.push(e.value),e.ck=!0)}))):this.form.type.splice(this.form.type.indexOf(l),1)),2==t&&(e?this.form.auth.router.push(l):this.form.auth.router.splice(this.form.auth.router.indexOf(l),1))}setopen(e){let t=$.depthClone(e);null==t.type&&(t.type=[]),null==t.auth&&(t.auth={router:[],region:[]}),this.routerData.map((e=>{var l;e.ck=!1,t.type.map((t=>{e.key==t&&(e.ck=!0)})),null==(l=e.list)||l.map((e=>{var l,a;e.ck=!1,null==(l=t.auth.router)||l.map((t=>{e.value==t&&(e.ck=!0)})),t.auth.region=null==(a=t.auth.region)?void 0:a.map((e=>e.toString()))}))})),this.form=JSON.parse(JSON.stringify(t)),this.diaShow=!0}}c([w("formRef")],lt.prototype,"formRef",void 0);class at extends r{constructor(){super(...arguments),t(this,"info",null),t(this,"certificate",null),t(this,"typestate",{SUCCESS:"success",ERROR:"error",NONE:"info",CONDUCT:"warning"}),t(this,"diashow",!1),t(this,"form",{annex:[]}),t(this,"fromRef"),t(this,"fromErr",{}),t(this,"formloading",!1),t(this,"moreShow",!1)}render(){return m(u("el-skeleton"),{loading:null==this.info,animated:!0},{default:()=>[m(h,null,[m("div",{class:"white px-6 py-4 d-flex align-center"},[m(u("el-breadcrumb"),{"separator-class":"el-icon-arrow-right"},{default:()=>[m(u("el-breadcrumb-item"),{to:{name:"provider-list"}},{default:()=>[m("span",{class:"grey--text font-weight-medium"},[f("企业管理")])]}),m(u("el-breadcrumb-item"),null,{default:()=>[m("span",{class:"black--text"},[this.info.name])]})]}),m("div",{class:"flex-grow-1 text-right"},[m(u("el-button"),{onClick:()=>{null!=this.certificate&&(this.certificate.annex||(this.certificate.annex=[]),this.form=this.certificate),this.diashow=!0}},{default:()=>[null==this.certificate?"添加证书":"修改证书"]})])]),m("div",{class:"mt-2 white pa-6"},[m(u("el-alert"),{title:B[this.info.state],type:this.typestate[this.info.state],"show-icon":!0,closable:!1,description:"ERROR"==this.info.state?this.info.message:null},null),m("div",{class:"d-flex align-start mt-5"},[m(u("el-logo"),{src:this.info.logo,width:"95px",height:"95px",class:"mr-7"},null),m("div",{class:"flex-grow-1"},[m("div",{class:"d-flex align-end"},[m("span",{class:"font-size-3 font-weight-bold"},[this.info.name]),m(u("el-time"),{class:"ml-4",value:this.info.createTime,type:"datetime"},null)]),m("div",{class:"mt-3 rounded-lg overflow-hidden decbox"},[m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("海关备案代码：")]),this.info.code]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("DxpId：")]),this.info.dxpId||"--"]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("区域ID：")]),T.exports.CodeToText[this.info.region[0]]+" / "+T.exports.CodeToText[this.info.region[1]]+" / "+T.exports.CodeToText[this.info.region[2]]]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("管理员：")]),this.info.user.phone]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("企业官网：")]),m("a",{href:this.info.url,target:"_blank"},[this.info.url])]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("法人：")]),this.info.company.legal.name]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("联系人：")]),this.info.company.linkMan.name]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("联系电话：")]),this.info.company.linkMan.phone]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("统一社会信用代码：")]),this.info.company.organization.code]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("经营主体备案企业类型：")]),this.info.type.map(((e,t)=>(0==t?"":"，")+P[e]))]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:24},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("经营范围：")]),this.info.company.scope]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:24},{default:()=>{var e;return[m("span",{class:"grey--text text--darken-1"},[f("企业地址：")]),null==(e=this.info.company.organization.address.codeName)?void 0:e.join(),this.info.company.organization.address.address]}})]}),m(u("v-if"),{show:this.moreShow},{default:()=>[m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:12,class:"d-flex align-start"},{default:()=>[m("div",{class:"grey--text text--darken-1",style:"width:145px"},[f("企业商标：")]),m(Q,{href:Q.url(this.info.logo,null,null,"//cdn.lygddt.com/".toString()),src:this.info.logo,width:"240px",height:"160px"},null)]}),m(u("el-col"),{span:12,class:"d-flex align-start"},{default:()=>[m("div",{class:"grey--text text--darken-1",style:"width:145px"},[f("营业执照：")]),m(Q,{href:Q.url(this.info.company.organization.img,null,null,"//cdn.lygddt.com/".toString()),src:this.info.company.organization.img,width:"240px",height:"160px"},null)]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:12,class:"d-flex align-start"},{default:()=>[m("div",{class:"grey--text text--darken-1",style:"width:145px"},[f("报关注册登记：")]),m(Q,{href:Q.url(this.info.company.cusImg,null,null,"//cdn.lygddt.com/".toString()),src:this.info.company.cusImg,width:"240px",height:"160px"},null)]}),m(u("el-col"),{span:12,class:"d-flex align-start"},{default:()=>[m("div",{class:"grey--text text--darken-1",style:"width:145px"},[f("质量诚信经营承诺书：")]),m(Q,{href:Q.url(this.info.company.qualityImg,null,null,"//cdn.lygddt.com/".toString()),src:this.info.company.qualityImg,width:"240px",height:"160px"},null)]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-col"),{span:12,class:"d-flex align-start"},{default:()=>[m("div",{class:"grey--text text--darken-1",style:"width:145px"},[f("法人身份证：")]),m(Q,{href:Q.url(this.info.company.legal.frontImg,null,null,"//cdn.lygddt.com/".toString()),src:this.info.company.legal.frontImg,width:"240px",height:"160px"},null)]}),m(u("el-col"),{span:12,class:"d-flex align-start"},{default:()=>[m("div",{class:"grey--text text--darken-1",style:"width:145px"},[f("法人身份证国徽面：")]),m(Q,{href:Q.url(this.info.company.legal.backImg,null,null,"//cdn.lygddt.com/".toString()),src:this.info.company.legal.backImg,width:"240px",height:"160px"},null)]})]})]}),m(u("el-row"),{class:"d-flex align-center dec"},{default:()=>[m(u("el-button"),{type:"text",class:"my-n2",onClick:()=>this.moreShow=!this.moreShow},{default:()=>[this.moreShow?"收起>":"展开>"]})]})])])])]),m(u("v-if"),{show:null!=this.certificate},{default:()=>[m("div",{class:"mt-2 white pa-6"},[m("span",{class:"font-size-3 font-weight-bold"},[f("证书")]),m("div",{class:"mt-3 rounded-lg overflow-hidden decbox"},[m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("名称：")]),this.certificate.name]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("主体：")]),this.certificate.subject]})]}),m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("序列号：")]),this.certificate.number]})]}),m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>{var e;return[m("div",{class:"d-flex"},[m("span",{class:"grey--text text--darken-1"},[f("附件：")]),m("div",null,[this.certificate.annex?null:"--",null==(e=this.certificate.annex)?void 0:e.map(((e,t)=>{let l=e.split("/"),a=e;return e.includes("http://")||e.includes("https://")||(a="//cdn.lygddt.com/"+e),m("a",{href:`${a}`,target:"_blank"},[m("div",{class:0==t?"":"mt-1"},[l[l.length-1]])])}))])])]}})]})])])]}),m(u("el-dialog"),{"custom-class":"diaclass",modelValue:this.diashow,"onUpdate:modelValue":e=>this.diashow=e,width:"670px",title:"添加证书",onClosed:()=>this.fromRef.resetFields()},{default:()=>[m(u("el-form"),{ref:"fromRef",model:this.form,"label-width":"120px"},{default:()=>[m(u("el-form-item"),{prop:"name",label:"证书名称：",error:this.fromErr.name,rules:[a.notBlank("请输入证书名称")]},{default:()=>[m(u("el-input"),{placeholder:"请输入证书名称",autocomplete:"off",clearable:!0,modelValue:this.form.name,"onUpdate:modelValue":e=>this.form.name=e},null)]}),m(u("el-form-item"),{prop:"subject",label:"证书主体：",error:this.fromErr.subject,rules:[a.notBlank("请输入证书主体")]},{default:()=>[m(u("el-input"),{placeholder:"请输入证书主体",autocomplete:"off",clearable:!0,modelValue:this.form.subject,"onUpdate:modelValue":e=>this.form.subject=e},null)]}),m(u("el-form-item"),{prop:"number",label:"证书序列号：",error:this.fromErr.number,rules:[a.notBlank("请输入证书序列号")]},{default:()=>[m(u("el-input"),{placeholder:"请输入证书序列号",autocomplete:"off",clearable:!0,modelValue:this.form.number,"onUpdate:modelValue":e=>this.form.number=e},null)]}),m(u("el-form-item"),{prop:"annex",label:"证书附件：",error:this.fromErr.annex},{default:()=>{var e,t;return[null==(e=this.form.annex)?void 0:e.map((e=>{let t=e.split("/");return m("div",null,[t[t.length-1],m(u("el-button"),{size:"mini",type:"danger",class:"ml-4"},{default:()=>[f("删除")]})])})),m(_e,{accept:[],isImg:!1,modelValue:this.form.annex[(null==(t=this.form.annex)?void 0:t.length)||0],"onUpdate:modelValue":e=>{var t;return this.form.annex[(null==(t=this.form.annex)?void 0:t.length)||0]=e},class:"d-flex align-end"},{trigger:e=>m(u("el-button"),{size:"small",type:"primary"},{default:()=>[f("点击上传")]})}),m("span",{class:"grey--text"},[f("【文件不能大于5M】")])]}}),m("div",{class:"text-center mt-8"},[m(u("el-button"),{type:"primary",onClick:this.submitForm,loading:this.formloading,class:"mr-4",style:{width:"150px"}},{default:()=>[f("确 定")]}),m(u("el-button"),{disabled:this.formloading,style:{width:"150px"},onClick:()=>(this.diashow=!1,this.fromRef.resetFields())},{default:()=>[f("取 消")]})])]})]})])]})}created(){this.$route.query.id||(this.$message.error("没有找到企业信息"),this.$router.back()),this.getInfo()}getInfo(){this.$axios.get("/provider/"+this.$route.query.id).then((({provider:e,certificate:t})=>{this.info=e,this.certificate=t})).catch((e=>{this.$message.error(e.massage||"获取不到企业信息"),this.$router.back()}))}submitForm(){this.fromErr={},this.fromRef.validate((e=>{e&&(this.formloading=!0,this.form.providerId=this.info.id,this.$axios.post("/provider/certificate",this.form).then((e=>{this.$message.success(this.form.id?"修改证书成功":"添加证书成功"),this.diashow=!1,this.fromRef.resetFields(),this.getInfo()})).catch((e=>{this.$message.error(e.message||"提交失败"),e.data&&(this.fromErr=e.data)})).finally((()=>this.formloading=!1)))}))}}c([w("fromRef")],at.prototype,"fromRef",void 0);class ot extends r{constructor(){super(...arguments),t(this,"menuData",null)}created(){"order-ceblog"!=this.$route.name&&this.routeW("")}routeW(e){var t;"order-ceblog"!=this.$route.name&&("order-import"==(null==(t=this.$route.matched[2])?void 0:t.name)?this.menuData=Ge:this.menuData=Ze)}render(){return m(h,null,[m(u("v-if"),{show:"order-ceblog"!=this.$route.name},{default:()=>[m("div",{class:"white mb-2"},[m(u("el-menu"),{mode:"horizontal","default-active":this.$route.matched[3].name,router:!0},{default:()=>{var e,t;return[null==(t=null==(e=this.menuData)?void 0:e.children)?void 0:t.map((e=>m(u("el-menu-item"),{route:e,index:e.name,key:e.name},{default:()=>[e.meta.name]})))]}})])]}),m(u("router-view"),null,null)])}}c([C("$route")],ot.prototype,"routeW",null);class it extends r{constructor(){super(...arguments),t(this,"info")}render(){return m(u("el-skeleton"),{loading:null==this.info,animated:!0},{default:()=>m(h,null,[m("div",{class:"d-flex align-end"},[m("span",null,[f("创建时间："),m(u("el-time"),{value:this.info.createTime,type:"datetime"},null)])]),m("div",{class:"mt-3 rounded-lg overflow-hidden decbox"},[m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("唯一编码：")]),this.info.itemNo]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("商品编码：")]),this.info.hsCode]})]}),m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("电商平台/电商企业编码：")]),this.info.ebcCode]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("电商平台/电商企业：")]),this.info.ebcName]})]}),m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("条形码：")]),this.info.code||"--"]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("原产国：")]),W[this.info.country]]})]}),m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("法定数量：")]),this.info.qty1||"--"]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("第二数量：")]),this.info.qty2||"--"]})]}),m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("计量单位：")]),this.info.unit?m("span",null,[G[this.info.unit],m("span",{class:"font-size-0 grey--text ml-1"},[f("("),this.info.unit,f(")")])]):"--"]}),m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("法定计量单位：")]),this.info.unit1?m("span",null,[G[this.info.unit1],m("span",{class:"font-size-0 grey--text ml-1"},[f("("),this.info.unit1,f(")")])]):"--"]})]}),m(u("el-row"),{class:"dec d-flex align-center"},{default:()=>[m(u("el-col"),{span:12},{default:()=>[m("span",{class:"grey--text text--darken-1"},[f("第二计量单位：")]),this.info.unit2?m("span",null,[G[this.info.unit2],m("span",{class:"font-size-0 grey--text ml-1"},[f("("),this.info.unit2,f(")")])]):"--"]})]})])])})}}c([k({type:Object})],it.prototype,"info",void 0);class nt extends r{constructor(){super(...arguments),t(this,"type"),t(this,"soform",{}),t(this,"loading",!1),t(this,"tableData",null),t(this,"page",null),t(this,"infoshow",!1),t(this,"info",null)}render(){var e,t;return m(h,null,[m("div",{class:"white px-5 py-4"},[m(N,null,{default:()=>[K[this.type],f("商品信息")]}),m(u("el-form"),{model:this.soform,inline:!0,class:"mb-n4 sofrom"},{default:()=>[m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"企业唯一编号",modelValue:this.soform.copNo,"onUpdate:modelValue":e=>this.soform.copNo=e,clearable:!0},null)]}),m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"商品名称",modelValue:this.soform.name,"onUpdate:modelValue":e=>this.soform.name=e,clearable:!0},null)]}),m(u("el-form-item"),null,{default:()=>[m(u("el-date-picker"),{"unlink-panels":!0,shortcuts:R,"value-format":"YYYY-MM-DD",modelValue:this.soform.date,"onUpdate:modelValue":e=>this.soform.date=e,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!0},null)]}),m(u("el-form-item"),{class:"ml-2"},{default:()=>[m(u("el-button"),{round:!0,type:"primary",onClick:()=>{this.$router.push({query:l.data(this.soform,{page:1})}),setTimeout(this.getList)}},{default:()=>[f("查询")]}),m(u("el-button"),{round:!0,onClick:()=>this.soform={}},{default:()=>[f("重置")]})]})]})]),m("div",{class:"white mt-2 px-4 pt-2 pb-10"},[g(m(u("el-table"),{data:this.tableData,style:{width:"100%"},"row-class-name":({rowIndex:e})=>e%2==0?"":"stripe-row"},{default:()=>[m(u("el-table-column"),{label:"商品货号",prop:"itemNo"},{default:({row:e})=>m("a",{href:"javascript:;",onClick:()=>{this.info=e,this.infoshow=!0}},[e.itemNo])}),m(u("el-table-column"),{prop:"hsCode",label:"商品编码"},null),m(u("el-table-column"),{prop:"name",label:"商品名称","min-width":"200px"},null),m(u("el-table-column"),{label:"电商企业","min-width":"200px"},{default:({row:e})=>m("span",null,[e.ebcCode||"--"])}),m(u("el-table-column"),{label:"原产国"},{default:({row:e})=>m("span",null,[W[e.country]||"--"])}),m(u("el-table-column"),{label:"时间"},{default:({row:e})=>m(u("el-time"),{value:e.createTime,type:"datetime"},null)}),m(u("el-table-column"),{prop:"state",label:"状态"},{default:({row:e})=>m(u("el-tag"),{effect:"dark",class:"rounded-pill",style:{borderColor:H[e.state||"NONE"]},color:H[e.state||"NONE"]},{default:()=>[m("div",{class:"d-flex align-center"},[m("div",{class:"rounded-circle statecricle mr-1"},null),B[e.state]||"--"])]})})]}),[[b("loading"),this.loading]]),m(u("v-if"),{show:null!=this.page&&0!=(null==(e=this.page)?void 0:e.count)},{default:()=>[m("div",{class:"text-center py-6"},[m(u("el-page"),{value:this.page,router:!0,onChange:()=>setTimeout(this.getList)},null)])]})]),m(u("el-dialog"),{modelValue:this.infoshow,"onUpdate:modelValue":e=>this.infoshow=e,title:null==(t=this.info)?void 0:t.name},{default:()=>[m(it,{info:this.info},null)]})])}created(){this.soform=l.data(this.$route.query),this.getList()}getList(){this.loading=!0,this.$axios.get("/goods",{params:l.data(this.$route.query,{date:this.$route.query.date?this.$route.query.date+"":null},{type:this.type})}).then((({list:e,page:t})=>{this.tableData=e,this.page=t,this.toUPScroll(".layout-scroll")})).catch((e=>{this.$message.error(e.message||"获取商品数据失败"),this.tableData=null,this.page=null})).finally((()=>this.loading=!1))}}c([k({type:String})],nt.prototype,"type",void 0);const st=[{path:"",name:"index",meta:{name:"首页",noshow:!0},component:He},{path:"goods",name:"goods",meta:{name:"商品管理",icon:"icon-goods"},props:{isKey:!0},component:M,redirect:{name:"goods-import"},children:[{path:"import",name:"goods-import",meta:{name:"进口商品",icon:"J"},props:{type:"I"},component:nt},{path:"export",name:"goods-export",meta:{name:"出口商品",icon:"C"},props:{type:"E"},component:nt}]},{path:"order",name:"order",meta:{name:"申报管理",icon:"icon-shenbao"},component:ot,redirect:{name:"order-import-311"},children:[Ge,Ze,{path:"ceblog",name:"order-ceblog",meta:{name:"申报日志",icon:"S"},component:class extends r{constructor(){super(...arguments),t(this,"soform",{}),t(this,"tableData",null),t(this,"loading",!1),t(this,"page",null)}render(){var e;let t;return m(h,null,[m("div",{class:"white px-5 py-4"},[m(N,null,{default:()=>[f("日志信息")]}),m(u("el-form"),{model:this.soform,inline:!0,class:"mb-n4 sofrom"},{default:()=>[m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"报文guid",modelValue:this.soform.guid,"onUpdate:modelValue":e=>this.soform.guid=e,clearable:!0},null)]}),m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"申报企业",modelValue:this.soform.providerName,"onUpdate:modelValue":e=>this.soform.providerName=e,clearable:!0},null)]}),m(u("el-form-item"),null,{default:()=>[m(u("el-select"),{modelValue:this.soform.type,"onUpdate:modelValue":e=>this.soform.type=e,clearable:!0,filterable:!0,placeholder:"业务类型"},Pe(t=V.map((e=>{let t;return m(u("el-option-group"),{key:e.label,label:e.label},Pe(t=e.list.map((e=>m(u("el-option"),{key:e.value,value:e.value,label:e.label+"("+e.value+")"},{default:()=>[m("div",{class:"d-flex flex-row"},[m("div",{class:"flex-grow-1"},[f(" "),e.label]),m("div",{class:"grey--text"},[e.value])])]}))))?t:{default:()=>[t]})})))?t:{default:()=>[t]})]}),m(u("el-form-item"),{prop:"date"},{default:()=>[m(u("el-date-picker"),{"unlink-panels":!0,shortcuts:R,"value-format":"YYYY-MM-DD",modelValue:this.soform.date,"onUpdate:modelValue":e=>this.soform.date=e,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!0},null)]}),m(u("el-form-item"),{class:"ml-2"},{default:()=>[m(u("el-button"),{type:"primary",round:!0,onClick:()=>{this.$router.push({query:l.data(this.soform,{page:1})}),setTimeout(this.getList)}},{default:()=>[f("查询")]}),m(u("el-button"),{onClick:()=>this.soform={},round:!0},{default:()=>[f("重置")]})]})]})]),m("div",{class:"white mt-2 px-4 pt-2 pb-10"},[g(m(u("el-table"),{data:this.tableData,style:{width:"100%"},"row-class-name":({rowIndex:e})=>e%2==0?"":"stripe-row"},{default:()=>[m(u("el-table-column"),{type:"index",label:"序号"},null),m(u("el-table-column"),{prop:"guid",label:"报文guid"},null),m(u("el-table-column"),{label:"类型",width:"80"},{default:({row:e})=>m("span",null,[e.isSend?"发送":"回执"])}),m(u("el-table-column"),{prop:"type",label:"业务类型"},{default:({row:e})=>m(h,null,[v[e.type.slice(3)],m("span",{class:"ml-1 font-size-0 grey--text"},[f("("),e.type,f(")")])])}),m(u("el-table-column"),{prop:"returnInfo",label:"业务信息"},null),m(u("el-table-column"),{prop:"provider.name",label:"申报单位"},null),m(u("el-table-column"),{prop:"returnTime",label:"时间"},{default:({row:e})=>m(A,{isLog:!0,modelValue:e.returnTime,"onUpdate:modelValue":t=>e.returnTime=t},null)}),m(u("el-table-column"),{label:"报文",width:"80"},{default:({row:e})=>m("a",{href:e.path,target:"_blank"},[f("查看")])})]}),[[b("loading"),this.loading]]),m(u("v-if"),{show:null!=this.page&&0!=(null==(e=this.page)?void 0:e.count)},{default:()=>[m("div",{class:"text-center py-6"},[m(u("el-page"),{value:this.page,router:!0,onChange:()=>setTimeout(this.getList)},null)])]})])])}created(){this.soform=l.data(this.$route.query),this.getList()}getList(){this.loading=!0,this.$axios.get("/ceb/log/all",{params:l.data(this.$route.query,{date:this.$route.query.date?this.$route.query.date+"":null})}).then((({list:e,page:t})=>{this.tableData=e,this.page=t,this.toUPScroll(".layout-scroll")})).catch((e=>{this.$message.error(e.message||"获取日志失败"),this.tableData=null,this.page=null})).finally((()=>this.loading=!1))}}}]},{path:"user",name:"user",meta:{name:"用户管理",icon:"icon-yonghu1"},component:M,redirect:{name:"user-root"},children:[{path:"",name:"user-root",meta:{name:"用户",icon:"Y"},component:lt},{path:"provider",name:"provider",meta:{name:"企业",icon:"Q"},component:M,redirect:{name:"provider-list"},children:[{path:"",name:"provider-list",meta:{name:"企业管理"},component:class extends r{constructor(){super(...arguments),t(this,"soform",{}),t(this,"tableData",null),t(this,"loading",!1),t(this,"page",null),t(this,"btnloading",!1)}render(){var e;let t;return m(h,null,[m("div",{class:"white px-5 py-4"},[m(N,null,{default:()=>[f("企业信息")]}),m(u("el-form"),{model:this.soform,inline:!0,class:"mb-n4 sofrom"},{default:()=>[m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"企业名称",modelValue:this.soform.name,"onUpdate:modelValue":e=>this.soform.name=e,clearable:!0},null)]}),m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"海关编码",modelValue:this.soform.code,"onUpdate:modelValue":e=>this.soform.code=e,clearable:!0},null)]}),m(u("el-form-item"),null,{default:()=>{return[m(u("el-select"),{modelValue:this.soform.state,"onUpdate:modelValue":e=>this.soform.state=e,clearable:!0,placeholder:"状态"},(e=t=Object.keys(B).map((e=>m(u("el-option"),{label:B[e],key:e,value:e},null))),"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!x(e)?t:{default:()=>[t]}))];var e}}),m(u("el-form-item"),{class:"ml-2"},{default:()=>[m(u("el-button"),{type:"primary",round:!0,onClick:()=>{this.$router.push({query:l.data(this.soform,{page:1})}),setTimeout(this.getList)}},{default:()=>[f("查询")]}),m(u("el-button"),{round:!0,onClick:()=>this.soform={}},{default:()=>[f("重置")]})]})]})]),m("div",{class:"white mt-2 px-4 pt-2 pb-10"},[g(m(u("el-table"),{data:this.tableData,style:{width:"100%"},"row-class-name":({rowIndex:e})=>e%2==0?"":"stripe-row"},{default:()=>[m(u("el-table-column"),{prop:"name",label:"企业名称"},{default:({row:e})=>m(u("router-link"),{to:{name:"provider-info",query:{id:e.id}}},{default:()=>[e.name]})}),m(u("el-table-column"),{prop:"code",label:"海关编码"},null),m(u("el-table-column"),{prop:"dxpId",label:"dxpId"},{default:({row:e})=>m(h,null,[e.dxpId||"--"])}),m(u("el-table-column"),{prop:"state",label:"状态"},{default:({row:e})=>m(u("el-tag"),{effect:"dark",class:"rounded-pill",style:{borderColor:H[e.state||"NONE"]},color:H[e.state||"NONE"]},{default:()=>[m("div",{class:"d-flex align-center"},[m("div",{class:"rounded-circle statecricle mr-1"},null),B[e.state]||"--"])]})}),m(u("el-table-column"),{label:"操作",width:"150px",align:"center"},{default:({row:e})=>[m(u("el-popover"),{placement:"bottom-end",trigger:"click",width:300},{reference:()=>m(u("el-button"),{style:"width:100px",disabled:this.btnloading,round:!0,size:"small",type:"primary",plain:!0},{default:()=>[f("更改状态")]}),default:()=>m("div",{class:"text-center"},[m(u("el-button"),{style:"width:100px",class:"ma-1",disabled:this.btnloading,round:!0,size:"small",type:"primary",plain:!0,onClick:()=>this.examine(e,"NONE")},{default:()=>[f("未审核")]}),m(u("el-button"),{style:"width:100px",class:"ma-1",disabled:this.btnloading,round:!0,size:"small",type:"primary",plain:!0,onClick:()=>this.examine(e,"CONDUCT")},{default:()=>[f("审核中")]}),m(u("el-button"),{style:"width:100px",class:"ma-1",disabled:this.btnloading,round:!0,size:"small",type:"success",plain:!0,onClick:()=>this.examine(e,"SUCCESS")},{default:()=>[f("通过")]}),m(u("el-button"),{style:"width:100px",class:"ma-1",disabled:this.btnloading,round:!0,size:"small",type:"danger",plain:!0,onClick:()=>this.examine(e,"ERROR")},{default:()=>[f("拒绝")]})])}),m(u("router-link"),{style:"width:100px",class:"el-button el-button--success el-button--small is-plain is-round ma-1",to:{name:"provider-token",query:{id:e.id}}},{default:()=>[f("口令码")]})]})]}),[[b("loading"),this.loading]]),m(u("v-if"),{show:null!=this.page&&0!=(null==(e=this.page)?void 0:e.count)},{default:()=>[m("div",{class:"text-center py-6"},[m(u("el-page"),{value:this.page,router:!0,onChange:()=>setTimeout(this.getList)},null)])]})])])}created(){this.soform=l.data(this.$route.query),this.getList()}getList(){this.loading=!0,this.$axios.get("/provider",{params:l.data(this.$route.query)}).then((({list:e,page:t})=>{this.tableData=e,this.page=t,this.toUPScroll(".layout-scroll")})).catch((e=>{this.$message.error(e.message||"获取数据失败"),this.tableData=null,this.page=null})).finally((()=>this.loading=!1))}examine(e,t){let l=(t,l)=>{this.btnloading=!0,this.$axios.put("/provider/state",{id:e.id,state:t,message:l}).then((e=>{this.$message.success("更改成功"),this.getList()})).catch((e=>this.$message.error(e.message||"审核失败"))).finally((()=>this.btnloading=!1))};"ERROR"==t?this.$prompt("请输入拒绝理由","提示",{inputPattern:new RegExp("\\S"),inputErrorMessage:"请输入拒绝理由"}).then((({value:e})=>{l(t,e)})).catch((()=>{})):this.$confirm(`确定要更改${e.name}的状态为 ${B[t]} 吗？`,"审核提示",{callback:e=>{"confirm"==e&&l(t)}})}}},{path:"info",name:"provider-info",meta:{name:"企业详情"},component:at},{path:"token",name:"provider-token",meta:{name:"企业口令码"},component:class extends r{constructor(){super(...arguments),t(this,"token",null)}render(){return m(u("el-skeleton"),{loading:null==this.token,animated:!0},{default:()=>[m(h,null,[m("div",{class:"white px-6 py-4 mb-2"},[m(u("el-breadcrumb"),{"separator-class":"el-icon-arrow-right"},{default:()=>[m(u("el-breadcrumb-item"),{to:{name:"provider-list"}},{default:()=>[m("span",{class:"grey--text font-weight-medium"},[f("企业管理")])]}),m(u("el-breadcrumb-item"),null,{default:()=>[m("span",{class:"black--text"},[this.$route.meta.name])]})]})]),m("div",{class:"white pa-6"},[m(u("el-table"),{data:this.token,style:{width:"100%"},"row-class-name":({rowIndex:e})=>e%2==0?"":"stripe-row"},{default:()=>[m(u("el-table-column"),{type:"index",width:"80",align:"center"},null),m(u("el-table-column"),{prop:"name",label:"口令码"},null),m(u("el-table-column"),{prop:"id",label:"APPID"},null),m(u("el-table-column"),{prop:"key",label:"APPKEY"},null),m(u("el-table-column"),{label:"最后使用时间"},{default:({row:e})=>e.updateTime?m(u("el-time"),{value:e.updateTime,type:"datetime"},null):m("span",null,[f("--")])}),m(u("el-table-column"),{prop:"user.phone",label:"创建用户"},null),m(u("el-table-column"),{label:"创建时间"},{default:({row:e})=>e.createTime?m(u("el-time"),{value:e.createTime,type:"datetime"},null):m("span",null,[f("--")])})]})])])]})}created(){this.$route.query.id||(this.$message.error("没有找到企业口令码"),this.$router.back()),this.getToken()}getToken(){this.$axios.get("/user/token/"+this.$route.query.id).then((e=>this.token=e)).catch((e=>{this.$message.error(e.message||"没有找到企业口令码"),this.$router.back()}))}}}]},{path:"excel",name:"excel",meta:{name:"企业报表",icon:"Q"},component:class extends r{constructor(){super(...arguments),t(this,"soform",{}),t(this,"list",null),t(this,"page",null),t(this,"loading",!1),t(this,"delloading",!1),t(this,"disabledDate",(e=>y(e).isAfter(y(y().subtract(1,"months").format("YYYY-MM")+"-01"))))}render(){var e;return m(h,null,[m("div",{class:"white px-5 py-4 mb-2"},[m(N,null,{default:()=>[f("企业信息")]}),m(u("el-form"),{model:this.soform,inline:!0,class:"mb-n4 sofrom"},{default:()=>[m(u("el-form-item"),null,{default:()=>[m(u("el-date-picker"),{"disabled-date":this.disabledDate,modelValue:this.soform.date,"onUpdate:modelValue":e=>this.soform.date=e,type:"month","value-format":"YYYY-MM",placeholder:"选择月份"},null)]}),m(u("el-form-item"),null,{default:()=>[m(u("el-input"),{placeholder:"企业备案代码",modelValue:this.soform.code,"onUpdate:modelValue":e=>this.soform.code=e,clearable:!0},null)]}),m(u("el-form-item"),{class:"ml-2"},{default:()=>[m(u("el-button"),{type:"primary",round:!0,onClick:()=>{this.$router.push({query:l.data(this.soform,{page:1})}),setTimeout(this.getList)}},{default:()=>[f("查询")]}),m(u("el-button"),{round:!0,onClick:()=>this.soform={}},{default:()=>[f("重置")]})]})]})]),m("div",{class:"white pa-6"},[g(m(u("el-table"),{data:this.list,style:{width:"100%"},"row-class-name":({rowIndex:e})=>e%2==0?"":"stripe-row"},{default:()=>[m(u("el-table-column"),{label:"申报企业备案代码",prop:"provider.code"},null),m(u("el-table-column"),{label:"申报企业",prop:"provider.name"},null),m(u("el-table-column"),{label:"表格月份"},{default:({row:e})=>m(u("el-time"),{value:e.edate,format:"YYYY-MM",type:"format"},null)}),m(u("el-table-column"),{prop:"ieFlag",label:"类型"},{default:({row:e})=>m("span",null,[K[e.ieFlag]||"--"])}),m(u("el-table-column"),{prop:"count",label:"清单数量"},null),m(u("el-table-column"),{prop:"goodsCount",label:"商品数量"},null),m(u("el-table-column"),{prop:"price",label:"成交金额"},null),m(u("el-table-column"),{label:"生成时间"},{default:({row:e})=>m(u("el-time"),{value:e.createTime,type:"datetime"},null)}),m(u("el-table-column"),{label:"操作",width:"80px"},{default:({row:e})=>m(u("el-button"),{round:!0,size:"small",type:"danger",plain:!0,disabled:this.delloading,onClick:()=>this.toDel(e)},{default:()=>[f("删除")]})})]}),[[b("loading"),this.loading]]),m(u("v-if"),{show:null!=this.page&&0!=(null==(e=this.page)?void 0:e.count)},{default:()=>[m("div",{class:"text-center py-6"},[m(u("el-page"),{value:this.page,router:!0,onChange:()=>setTimeout(this.getList)},null)])]})])])}created(){this.soform=l.data(this.$route.query),this.getList()}getList(){var e;this.loading=!0;let t=this.$route.query.date?this.$route.query.date+"-01":null,a=y(t).endOf("month").format("YYYY-MM-DD");this.$axios.get("/provider/excel",{params:l.data(this.$route.query,{date:(null==(e=this.$route.query)?void 0:e.date)?t+","+a:null})}).then((({list:e,page:t})=>{this.list=e,this.page=t,this.toUPScroll(".layout-scroll")})).catch((e=>{this.$message.error(e.message||"没有找到企业报表"),this.$router.back()})).finally((()=>this.loading=!1))}toDel(e){this.$confirm("","提示",{message:m(h,null,[f("确定删除"),m("span",{class:"red--text font-weight-bold"},[e.provider.name,y(e.edate).format("YYYY-MM")]),f("的"),m("span",{class:"font-weight-bold"},[K[e.ieFlag]]),f("报表吗？")]),callback:t=>{"confirm"==t&&(this.delloading=!0,this.$axios.delete("/provider/excel/"+e.id).then((e=>{this.$message.success("删除成功"),this.getList()})).catch((e=>{this.$message.error(e.message||"删除失败")})).finally((()=>this.delloading=!1)))}})}}}]}];class rt extends r{constructor(){super(...arguments),t(this,"user")}render(){return m("div",null,[f("我是登录验证ticket")])}created(){this.$axios.patch("/sso/login",null,{params:{ticket:this.$route.query.ticket}}).then((e=>{this.user=e,this.$router.push({name:"home"})}))}}c([Fe()],rt.prototype,"user",void 0);var dt="_container_1cz4w_1",mt="_main_1cz4w_4",ut="_aside_1cz4w_7",pt="_iconbg_1cz4w_79",ct="_icon_1cz4w_79",ht="_outicon_1cz4w_94";class ft extends r{constructor(){super(...arguments),t(this,"user"),t(this,"downicon",!1)}render(){let e;return m(u("el-container"),{class:dt},{default:()=>[m(u("el-aside"),{width:"220px",class:ut},{default:()=>{return[m("div",{class:"text-center mt-4 mb-3"},[m(u("router-link"),{to:"/"},{default:()=>[m("i",{class:["user-iconfont icon-dian font-size-20",ct]},null)]})]),m("div",{class:"text-center mb-10"},[m(u("router-link"),{to:"/"},{default:()=>[m("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAbBAMAAACkbYEBAAAAMFBMVEUAAADi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHi5vHklg+oAAAAD3RSTlMARHe7EWbd7iLMM5mIVap78vG0AAAC80lEQVQ4y93Uz2sTQRQH8In9QahiMmkPISC7nVKQCt3o2oJeNlhQerGlem/pwWuKLSK9JE3/Aq14ECSW4rlFvVu8eIyi4LF3T9ldkxgS+/W92XWzjdqTJ7+HMMlOPjPvvRDxzyJzvfWgzIpTsiWlHOPFrqSXJK/DwBdnQLlM67P47oDTIFCvpooA6mLItu2ZOXAWaZ8DMaQqcCuTmrBAUaC0CkIYOAgQCHEOnAkwoo/xLHC+CaGKUNvIwDX8HjI5izaQ5hPKETLAn+0s4wGa+QBx2lWsl1whQBntR8xhrFmEDKFD3zXFPLqM1B08WcDVUrMgkl/QyTruAvK1foRzAz5TpkHITWyIFMzBKg4YWZlHq4hDA4eCruIJp2Nh1SFEUbbxFO2qH29ss8DIMh5PEjKPDn0+kvkoFaBkZpwKTTACDiG7Ywl5G5yuJjIKTbWETcGIBfiE1NBVfHaUxT7EcVPIFUF52OvJldYHjRwFCG82qa4oKyHi1fC8qBED5aSkiBhynabbLojENLwY8kjq1FDXiL5A3mKkYSA8IyhnGnh1d4T2vhDczA1CllQVaUJWlY5FSPIS/ItROZZ3EtnK8WydsEfLMFN4pz6X2vGeNE2R4G/HkKN2HLF8akbi1/tii6Y0ivto8Nhgc2bhi98Qy0/IUXhSRsjOEtp2CWn9YzAgAaxpRHIuMJJ8T+XwTfOCL+xZx4OvHfj2mwiBIv6IkFvY4Ck5gMlIGEa0L6VBzU7TEI4t7zw4nTjiSUv/2MDVGUChH+HpQKdOiO94qeBRhIxXwImQgeAAQAbJ9SP7vtNI4W0XtR6SPhMic32IHWQmROxrwLpNXUkBbgqGCyOGDPFWJy04QTm8RpSyRvRDIv6AoIZxqVMWe2RRb4rQewGlw3NLZtDJBo3NsoUfCyeQKCY/hIWXANwYUtTDBzzoeMEdjTjSOok0LQxjs9SMl3MKchz25JNdAscvi4pSU3fs0XuLE3b6r8iz8J/N3nex91X8b/kJRZ0H6uFWlnkAAAAASUVORK5CYII="},null)]})]),m(u("el-menu"),{"default-active":this.$route.matched[2]?this.$route.matched[2].name:this.$route.name,router:!0},(t=e=st.map((e=>{if(1!=e.meta.noshow)return e.children&&e.children.length>0?m(u("el-submenu"),{index:e.name,key:e.name},{default:()=>e.children.map((e=>m(u("el-menu-item"),{route:e,index:e.name,key:e.name},{default:()=>[m("div",{class:"d-flex flex-row align-center el-menu-item-div"},[m("div",{class:"mr-4"},[m("div",{class:"el-menu-item-icon"},[e.meta.icon])]),m("div",null,[e.meta.name])])]}))),title:()=>m("div",{class:"d-flex flex-row align-center",style:{width:"100%",height:"100%"}},[m("div",{class:"el-menu-item-div"},[m("i",{class:["user-iconfont mr-4",e.meta.icon]},null),f(" "),e.meta.name])])}):m(u("el-menu-item"),{route:e,index:e.name,key:e.name},{default:()=>[m("div",{class:"d-flex flex-row align-center",style:{width:"100%",height:"100%"}},[m("div",{class:"el-menu-item-div"},[m("i",{class:["user-iconfont mr-4",e.meta.icon]},null),f(" "),e.meta.name])])]})})),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!x(t)?e:{default:()=>[e]}))];var t}}),m(u("el-container"),null,{default:()=>[m(u("el-header"),{class:"d-flex align-center",style:{borderBottom:"1px solid #eff3f6"}},{default:()=>[m("div",{class:" flex-grow-1 d-flex align-center"},[m(u("router-link"),{to:"/",class:"d-flex align-center mr-8"},{default:()=>[m("div",{class:[pt,"mr-2 "]},[m("i",{class:["user-iconfont icon-shouye1",ct]},null)]),m("span",null,[f("首页")])]}),m("a",{href:"//lygddt.com/",target:"_blank",class:"d-flex align-center mr-8"},[m("div",{class:[pt,"mr-2 "]},[m("i",{class:["user-iconfont icon-qiye2",ct]},null)]),m("span",null,[f("企业端")])]),m("a",{href:"//ceb.lygddt.com/",target:"_blank",class:"d-flex align-center mr-8"},[m("div",{class:[pt,"mr-2 "]},[m("i",{class:["user-iconfont icon-zhengwuting",ct]},null)]),m("span",null,[f("关务&政务端")])])]),m(u("el-dropdown"),{"onVisible-change":e=>this.downicon=e},{dropdown:()=>m(u("el-dropdown-menu"),null,{default:()=>[m(u("el-dropdown-item"),null,{default:()=>[m("i",{class:"el-icon-lock"},null),f(" 修改密码")]}),m(u("el-dropdown-item"),{divided:!0,onClick:this.out},{default:()=>[m("i",{class:"el-icon-switch-button"},null),f(" 退出登录")]})]}),default:()=>m("div",{class:"d-flex align-center"},[m("div",{class:[pt,"mr-2 "]},[m("i",{class:["user-iconfont icon-geren",ct]},null)]),m("span",{style:{cursor:"pointer"}},[this.user.phone]),m("i",{class:[ht," el-icon--right",this.downicon?"el-icon-arrow-up":"el-icon-arrow-down"]},null)])})]}),g(m(u("el-main"),{class:[mt,"layout-scroll order-scroll"]},{default:()=>[m(u("v-if"),{show:!this.$route.meta.noshow},{default:()=>[m("div",{class:"mb-4"},[m(u("el-breadcrumb"),{"separator-class":"el-icon-arrow-right"},{default:()=>[m(u("el-breadcrumb-item"),{to:"/"},{default:()=>[f("后台管理")]}),this.$route.matched.map(((e,t)=>{if(e.meta.name&&0!=t&&this.$route.matched[t-1].path!=e.path)return m(u("el-breadcrumb-item"),null,{default:()=>[e.meta.name]})}))]})])]}),m(u("router-view"),null,null)]}),[[b("loading"),null==this.user]])]})]})}out(){this.$axios.delete("/sso").then((e=>{this.$message.success("退出登录成功"),this.user=null,D.toLogin()}))}}c([Fe()],ft.prototype,"user",void 0);const gt=I({history:S(),routes:[{path:"/",name:"home",component:ft,redirect:{name:"index"},children:st},{path:"/login",name:"login",component:rt},{path:"/502",name:"e502",props:{is502:!0},component:o},{path:"/:pathMatch(.*)*",component:o}]});gt.beforeEach(((e,t,l)=>{"e502"==e.name&&"true"!=e.params.is502&&gt.back(),l()}));let bt=E(Be).use(gt).use(i).use(n,{baseURL:"/api"},{401:()=>{D.toLogin()},502:()=>{gt.push({name:"e502",params:{is502:"true"}})}});bt.mount("#app"),bt.config.globalProperties.toUPScroll=function(e){let t=document.querySelector(e);t.scrollTop>0&&(t.scrollTop=0)};
